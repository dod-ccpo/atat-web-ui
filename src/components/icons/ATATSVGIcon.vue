<template>
  <div :style="divStyle">
    <component :is="name" 
      :color="getColor()" 
      :height="_height" 
      :width="_width"
    />
  </div>
</template>

<script lang='ts'>
import {stringObj } from "types/Global";
import Vue from "vue";

import { Component, Prop, PropSync } from "vue-property-decorator";

import Calendar from "@/components/icons/Calendar.vue";
import Close from "@/components/icons/Close.vue";
import Currency from "@/components/icons/Currency.vue";
import ExternalLink from "@/components/icons/ExternalLink.vue";
import FilePresent from "@/components/icons/FilePresent.vue";
import MonetizationOn from "@/components/icons/MonetizationOn.vue";
import Pdf from "@/components/icons/Pdf.vue";
import Remove from "@/components/icons/Remove.vue";
import UploadFile from "@/components/icons/UploadFile.vue";


@Component({
  components:{
    Calendar,
    Close,
    Currency,
    ExternalLink,
    FilePresent,
    MonetizationOn,
    Pdf,
    Remove,
    UploadFile,
  }
})

export default class ATATSVGIcon extends Vue {
  // props
  @Prop({default: "base"}) private color!: string; // DISA Base
  @PropSync("width", {default: 0, required: true}) private _width!: number;
  @PropSync("height",{default: 0, required: true}) private _height!: number;
  @Prop({default: "", required: true}) private name!: string;
  
  private divStyle = "";

  private setDivStyle(): void {
    Vue.nextTick(()=>{
      this.divStyle =  "width: " + this._width + "px;" +
            "height: " + this._height + "px;" +
            "line-height: 0px";
    });
  }
  
  private getColor(): string {
    return (this.standardColors.find((sc)=> sc[this.color]) as stringObj)[this.color];
  }

  private standardColors: stringObj[] = [
    { "base":  "61686c" },
    { "base-dark": "41494e"},
    { "base-darkest" : "161b1e" },
    { "base-light": "959a9d"},
    { "primary": "544496" },
    { "info": "009ddd" },
    { "success": "62bd59" },
    { "error": "c60634" },
    { "disabled": "c9c9c9" }
  ]

  private mounted(): void{
    this.setDivStyle();
  }

}
</script>
